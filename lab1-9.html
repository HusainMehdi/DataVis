<!DOCTYPE html>
<html lang="en">

<body>
    <script src='https://d3js.org/d3.v7.min.js'></script>
    <script>
        let titaniccsv = 'https://raw.githubusercontent.com/dsindy/kaggle-titanic/master/data/test.csv';
        /*
        PassengerId,Pclass,Name,Sex,Age,SibSp,Parch,Ticket,Fare,Cabin,Embarked
        892,3,"Kelly, Mr. James",male,34.5,0,0,330911,7.8292,,Q
        893,3,"Wilkes, Mrs. James (Ellen Needs)",female,47,1,0,363272,7,,S
        894,2,"Myles, Mr. Thomas Francis",male,62,0,0,240276,9.6875,,Q
        895,3,"Wirz, Mr. Albert",male,27,0,0,315154,8.6625,,S
        */

        let mr = 0;
        let mrs = 0;
        let mas = 0;
        let miss = 0;
        let na = 0;
        let male = 0;
        let female = 0;
       
        d3.csv(titaniccsv, function (data) {
            console.log(data.Name);
            if(data.Name.includes("Mr.")){
                mr++;
            }
            else if(data.Name.includes("Mrs.")){
                mrs++;
            }
            else if(data.Name.includes("Master")){
                mas++;
            }            
            else if(data.Name.includes("Miss")){
                miss++;
            }
            else{
                na++
                console.log('na');
            }
            if(data.Sex === 'male'){
                male++;
            }
            else if(data.Sex === 'female'){
                female++;
            }
            else{
                console.log('na');
            }

        }).then(function(){
            console.log("Mr:" + mr);
            console.log("Mrs:" + mrs);
            console.log("Master:" + mas);
            console.log("Miss:" + miss);
            console.log("Other: " + na)
            console.log("Male: " + male);
            console.log("Female: " + female);
        })
        ;

    </script>

</body>

</html>